task hello << {
    println 'Hello 世界!'
}

task upper << {
    String someString = 'This is mY NamE'
    println "Original: " + someString
    println "Upper case: " + someString.toUpperCase()
}

task count << {
    5.times { print "$it " }
}

task helloDependent(dependsOn: hello) << {
    println "I'm Hiroshi"
}

4.times { counter -> 
    task "dynamicTask$counter" << {
        println "This task # is $counter"
	}
}
dynamicTask0.dependsOn dynamicTask2, dynamicTask1

task propTest {
	ext.prop1 = "some value"
}

//Using extra properties 
// => https://docs.gradle.org/current/userguide/writing_build_scripts.html
task printProp << {
	println propTest.prop1
}

// Default tasks
defaultTasks 'clean', 'run'

task clean << {
	println 'This is default clean task!'
}

task run << {
	println 'This is default run task!'
}

task other << {
	println 'This is NOT a default task!'
}

// Configure

task distribution << {
    println "Building zip with version=$version"
}

task release(dependsOn: 'distribution') << {
    println 'Releasing now'
}

gradle.taskGraph.whenReady {taskGraph ->
    if (taskGraph.hasTask(release)) {
        version = '0.0.1'
    }
	else {
        version = '0.0.1-SNAPSHOT'
	}
}

def dest = "dest"

task copy(type: Copy) {
    from "source"
    into dest
}

